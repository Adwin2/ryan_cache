2025/07/26 09:23:45 🚀 启动分布式缓存节点: node1
2025/07/26 09:23:45 📡 监听地址: :8001
2025/07/26 09:23:45 🌐 集群节点: map[node1:localhost:8001 node2:localhost:8002 node3:localhost:8003]
2025/07/26 09:23:45 🌐 启动集群管理器，节点ID: node1
2025/07/26 09:23:45 🚀 启动分布式缓存节点: node1
2025/07/26 09:23:45 📡 监听地址: :8001
2025/07/26 09:23:45 🌐 集群节点数: 3
2025/07/26 09:23:47 ⚠️ 通知节点加入失败 localhost:8002: Post "http://localhost:8002/internal/cluster/join": dial tcp 127.0.0.1:8002: connect: connection refused
2025/07/26 09:23:47 ⚠️ 通知节点加入失败 localhost:8003: Post "http://localhost:8003/internal/cluster/join": dial tcp 127.0.0.1:8003: connect: connection refused
2025/07/26 09:23:50 🔄 开始添加节点到集群: node2 (localhost:8002)
2025/07/26 09:23:50 ➕ 添加节点到集群: node2 (localhost:8002)
2025/07/26 09:23:50 ⚠️ 跳过不健康的节点: node2
2025/07/26 09:23:50 ⚠️ 跳过不健康的节点: node3
2025/07/26 09:23:50 ✅ 节点添加完成: node2
[GIN] 2025/07/26 - 09:23:50 | 200 |     673.985µs |       127.0.0.1 | POST     "/internal/cluster/join"
2025/07/26 09:23:53 🔄 开始添加节点到集群: node3 (localhost:8003)
2025/07/26 09:23:53 ➕ 添加节点到集群: node3 (localhost:8003)
2025/07/26 09:23:53 ⚠️ 跳过不健康的节点: node2
2025/07/26 09:23:53 ⚠️ 跳过不健康的节点: node3
2025/07/26 09:23:53 ✅ 节点添加完成: node3
[GIN] 2025/07/26 - 09:23:53 | 200 |     703.377µs |       127.0.0.1 | POST     "/internal/cluster/join"
[GIN] 2025/07/26 - 09:23:56 | 200 |      33.796µs |       127.0.0.1 | GET      "/api/v1/health"
[GIN] 2025/07/26 - 09:23:58 | 200 |      24.949µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:01 | 200 |      27.944µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:08 | 200 |      29.503µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:10 | 200 |      84.675µs |       127.0.0.1 | PUT      "/api/v1/cache/test:1"
[GIN] 2025/07/26 - 09:24:10 | 200 |      36.314µs |       127.0.0.1 | PUT      "/api/v1/cache/test:2"
[GIN] 2025/07/26 - 09:24:10 | 200 |     570.762µs |       127.0.0.1 | PUT      "/api/v1/cache/test:3"
[GIN] 2025/07/26 - 09:24:10 | 200 |      44.976µs |       127.0.0.1 | PUT      "/api/v1/cache/test:4"
[GIN] 2025/07/26 - 09:24:10 | 200 |     459.024µs |       127.0.0.1 | PUT      "/api/v1/cache/test:5"
[GIN] 2025/07/26 - 09:24:10 | 200 |      451.78µs |       127.0.0.1 | PUT      "/api/v1/cache/test:6"
[GIN] 2025/07/26 - 09:24:10 | 200 |     411.128µs |       127.0.0.1 | PUT      "/api/v1/cache/test:7"
[GIN] 2025/07/26 - 09:24:10 | 200 |     386.258µs |       127.0.0.1 | PUT      "/api/v1/cache/test:8"
[GIN] 2025/07/26 - 09:24:10 | 200 |      29.546µs |       127.0.0.1 | PUT      "/api/v1/cache/test:9"
[GIN] 2025/07/26 - 09:24:10 | 200 |     450.232µs |       127.0.0.1 | PUT      "/api/v1/cache/test:10"
[GIN] 2025/07/26 - 09:24:11 | 200 |      27.571µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:18 | 200 |      28.074µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:21 | 200 |      22.654µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:22 | 200 |      99.065µs |       127.0.0.1 | GET      "/api/v1/stats"
[GIN] 2025/07/26 - 09:24:28 | 200 |      28.453µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:31 | 200 |      20.364µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:32 | 200 |      64.395µs |       127.0.0.1 | GET      "/admin/metrics"
[GIN] 2025/07/26 - 09:24:38 | 200 |      18.119µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:41 | 200 |      27.633µs |       127.0.0.1 | GET      "/internal/cluster/health"
2025/07/26 09:24:42 🔄 开始添加节点到集群: node4 (localhost:8004)
2025/07/26 09:24:42 ➕ 添加节点到集群: node4 (localhost:8004)
2025/07/26 09:24:42 ✅ 成功向节点 node2 广播 add 操作
2025/07/26 09:24:42 ✅ 成功向节点 node3 广播 add 操作
2025/07/26 09:24:42 ⚠️ 跳过不健康的节点: node4
2025/07/26 09:24:42 ✅ 节点添加完成: node4
[GIN] 2025/07/26 - 09:24:42 | 200 |    3.025624ms |       127.0.0.1 | POST     "/internal/cluster/join"
[GIN] 2025/07/26 - 09:24:48 | 200 |      28.293µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:51 | 200 |       26.79µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:52 | 200 |      57.478µs |       127.0.0.1 | GET      "/admin/metrics"
[GIN] 2025/07/26 - 09:24:58 | 200 |      27.816µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:01 | 200 |      26.336µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:04 | 200 |      51.903µs |       127.0.0.1 | GET      "/admin/cluster"
[GIN] 2025/07/26 - 09:25:08 | 200 |      35.017µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:11 | 200 |      26.961µs |       127.0.0.1 | GET      "/internal/cluster/health"
2025/07/26 09:25:14 🔄 开始从集群移除节点: node4
2025/07/26 09:25:14 ➖ 从集群中移除节点: node4
2025/07/26 09:25:14 ✅ 成功向节点 node3 广播 remove 操作
2025/07/26 09:25:14 ✅ 成功向节点 node2 广播 remove 操作
2025/07/26 09:25:14 ✅ 节点移除完成: node4
[GIN] 2025/07/26 - 09:25:14 | 200 |    1.102785ms |       127.0.0.1 | POST     "/internal/cluster/leave"
[GIN] 2025/07/26 - 09:25:18 | 200 |      26.811µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:21 | 200 |      25.701µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:24 | 200 |      67.115µs |       127.0.0.1 | GET      "/admin/metrics"
[GIN] 2025/07/26 - 09:25:28 | 200 |      26.118µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:31 | 200 |      33.657µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:34 | 200 |      40.849µs |       127.0.0.1 | GET      "/admin/cluster"
[GIN] 2025/07/26 - 09:25:38 | 200 |      24.009µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:41 | 200 |      22.692µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:46 | 200 |      33.662µs |       127.0.0.1 | GET      "/api/v1/cache/test:1"
[GIN] 2025/07/26 - 09:25:46 | 200 |       21.26µs |       127.0.0.1 | GET      "/api/v1/cache/test:2"
[GIN] 2025/07/26 - 09:25:46 | 200 |     482.109µs |       127.0.0.1 | GET      "/api/v1/cache/test:3"
[GIN] 2025/07/26 - 09:25:46 | 200 |      22.296µs |       127.0.0.1 | GET      "/api/v1/cache/test:4"
[GIN] 2025/07/26 - 09:25:46 | 200 |     484.505µs |       127.0.0.1 | GET      "/api/v1/cache/test:5"
[GIN] 2025/07/26 - 09:25:46 | 200 |     242.739µs |       127.0.0.1 | GET      "/api/v1/cache/test:6"
[GIN] 2025/07/26 - 09:25:46 | 200 |     273.397µs |       127.0.0.1 | GET      "/api/v1/cache/test:7"
[GIN] 2025/07/26 - 09:25:46 | 200 |     266.751µs |       127.0.0.1 | GET      "/api/v1/cache/test:8"
[GIN] 2025/07/26 - 09:25:46 | 200 |      34.159µs |       127.0.0.1 | GET      "/api/v1/cache/test:9"
[GIN] 2025/07/26 - 09:25:46 | 200 |     312.006µs |       127.0.0.1 | GET      "/api/v1/cache/test:10"
[GIN] 2025/07/26 - 09:25:48 | 200 |      21.635µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:51 | 200 |      20.868µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:58 | 200 |       21.56µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:26:01 | 200 |      38.528µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:26:08 | 200 |      29.419µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:26:11 | 200 |      23.075µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:26:18 | 200 |      34.819µs |       127.0.0.1 | GET      "/internal/cluster/health"
2025/07/26 09:26:21 🛑 正在关闭节点: node1
2025/07/26 09:26:21 ✅ 成功通知节点 localhost:8002 关于节点离开
2025/07/26 09:26:21 🛑 集群管理器已停止
2025/07/26 09:26:21 ✅ 节点 node1 已关闭
