2025/07/26 09:23:48 🚀 启动分布式缓存节点: node2
2025/07/26 09:23:48 📡 监听地址: :8002
2025/07/26 09:23:48 🌐 集群节点: map[node1:localhost:8001 node2:localhost:8002 node3:localhost:8003]
2025/07/26 09:23:48 🌐 启动集群管理器，节点ID: node2
2025/07/26 09:23:48 🚀 启动分布式缓存节点: node2
2025/07/26 09:23:48 📡 监听地址: :8002
2025/07/26 09:23:48 🌐 集群节点数: 3
2025/07/26 09:23:50 ✅ 成功通知节点 localhost:8001 关于节点加入
2025/07/26 09:23:50 ⚠️ 通知节点加入失败 localhost:8003: Post "http://localhost:8003/internal/cluster/join": dial tcp 127.0.0.1:8003: connect: connection refused
2025/07/26 09:23:53 🔄 开始添加节点到集群: node3 (localhost:8003)
2025/07/26 09:23:53 ➕ 添加节点到集群: node3 (localhost:8003)
2025/07/26 09:23:53 ⚠️ 跳过不健康的节点: node1
2025/07/26 09:23:53 ⚠️ 跳过不健康的节点: node3
2025/07/26 09:23:53 ✅ 节点添加完成: node3
[GIN] 2025/07/26 - 09:23:53 | 200 |     453.228µs |       127.0.0.1 | POST     "/internal/cluster/join"
[GIN] 2025/07/26 - 09:23:55 | 200 |      23.951µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:23:56 | 200 |      27.549µs |       127.0.0.1 | GET      "/api/v1/health"
[GIN] 2025/07/26 - 09:24:01 | 200 |      16.094µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:05 | 200 |      21.408µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:10 | 200 |      69.473µs |       127.0.0.1 | PUT      "/internal/cache/test:3"
[GIN] 2025/07/26 - 09:24:10 | 200 |      29.082µs |       127.0.0.1 | PUT      "/internal/cache/test:8"
[GIN] 2025/07/26 - 09:24:10 | 200 |      25.979µs |       127.0.0.1 | PUT      "/internal/cache/test:10"
[GIN] 2025/07/26 - 09:24:11 | 200 |      22.662µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:15 | 200 |      33.211µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:21 | 200 |      19.847µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:22 | 200 |     108.745µs |       127.0.0.1 | GET      "/api/v1/stats"
[GIN] 2025/07/26 - 09:24:25 | 200 |      22.631µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:31 | 200 |       28.91µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:35 | 200 |      28.034µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:41 | 200 |      18.536µs |       127.0.0.1 | GET      "/internal/cluster/health"
2025/07/26 09:24:42 🔄 同步添加节点: node4 (localhost:8004)
2025/07/26 09:24:42 ➕ 添加节点到集群: node4 (localhost:8004)
2025/07/26 09:24:42 ✅ 同步添加节点完成: node4
[GIN] 2025/07/26 - 09:24:42 | 200 |     751.103µs |       127.0.0.1 | POST     "/internal/cluster/sync-add"
[GIN] 2025/07/26 - 09:24:45 | 200 |      23.111µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:51 | 200 |      23.225µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:24:55 | 200 |      20.926µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:01 | 200 |      19.209µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:05 | 200 |      21.987µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:11 | 200 |      23.858µs |       127.0.0.1 | GET      "/internal/cluster/health"
2025/07/26 09:25:14 🔄 同步移除节点: node4
2025/07/26 09:25:14 ➖ 从集群中移除节点: node4
2025/07/26 09:25:14 ✅ 同步移除节点完成: node4
[GIN] 2025/07/26 - 09:25:14 | 200 |      92.546µs |       127.0.0.1 | POST     "/internal/cluster/sync-remove"
[GIN] 2025/07/26 - 09:25:15 | 200 |      21.916µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:21 | 200 |      18.027µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:25 | 200 |      26.185µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:31 | 200 |      16.622µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:35 | 200 |      27.914µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:41 | 200 |      16.995µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:45 | 200 |      20.402µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:46 | 200 |      22.528µs |       127.0.0.1 | GET      "/internal/cache/test:3"
[GIN] 2025/07/26 - 09:25:46 | 200 |      10.785µs |       127.0.0.1 | GET      "/internal/cache/test:8"
[GIN] 2025/07/26 - 09:25:46 | 200 |      13.203µs |       127.0.0.1 | GET      "/internal/cache/test:10"
[GIN] 2025/07/26 - 09:25:51 | 200 |      24.108µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:25:55 | 200 |      20.698µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:26:01 | 200 |      17.522µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:26:05 | 200 |      21.873µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:26:11 | 200 |      17.205µs |       127.0.0.1 | GET      "/internal/cluster/health"
[GIN] 2025/07/26 - 09:26:15 | 200 |      28.001µs |       127.0.0.1 | GET      "/internal/cluster/health"
2025/07/26 09:26:21 🔄 开始从集群移除节点: node1
2025/07/26 09:26:21 ➖ 从集群中移除节点: node1
2025/07/26 09:26:21 ✅ 成功向节点 node3 广播 remove 操作
2025/07/26 09:26:21 ✅ 节点移除完成: node1
[GIN] 2025/07/26 - 09:26:21 | 200 |     545.263µs |       127.0.0.1 | POST     "/internal/cluster/leave"
[GIN] 2025/07/26 - 09:26:21 | 200 |      20.975µs |       127.0.0.1 | GET      "/internal/cluster/health"
2025/07/26 09:26:23 🛑 正在关闭节点: node2
2025/07/26 09:26:23 ✅ 成功通知节点 localhost:8003 关于节点离开
2025/07/26 09:26:23 🛑 集群管理器已停止
2025/07/26 09:26:23 ✅ 节点 node2 已关闭
